<?xml version="1.0" encoding="ISO-8859-1" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:p="http://primefaces.org/ui">
<h:head>
	<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1" />
	<title>Alteração de Beneficiário</title>
	<link rel="stylesheet" type="text/css" href="css/style1.css" />
</h:head>
<ui:composition template="/cabecalho.xhtml">
	<ui:define name="conteudo">
		<h:body><br></br><center>		<p:focus context="pesq"/>	
			<p:growl id="message" autoUpdate="true" showSummary="false"/>
			<p:panel header="Editar Beneficiário">
			<p:panel>
			<h:form id="pesq">			
				<table align="center">
					<tr>
						<td width="160"><p:outputLabel for="numContrato" value="Contrato" /></td>
						
<td colspan="3" width="480"><p:inputText id="numContrato" actionListener="#{beneficiario.buscar}"
	title="Insira o número do contrato" required="true" maxlenght="30"	size="10" value="#{beneficiario.beneficiarioNovo.contrato}" onfocus="this.value=''">
	<p:ajax event="blur" listener="#{beneficiario.pesquisa}" update="message"/>
	</p:inputText>
	
<p:commandButton id="buscar" value="Buscar"	title="Pesquisar número do contrato" action="#{beneficiario.buscar}" update="display"/></td>
</tr>
<tr>
<td><p:outputLabel for="display" value="Beneficiários" /></td>
<td colspan="3"><p:selectOneMenu id="display"   style="width:300px"	value="#{beneficiario.beneficiarioNovo.idBeneficiario}">
<f:selectItems value="#{beneficiario.beneficiarios}" var="ben" itemValue="#{ben.idBeneficiario}" itemLabel="#{ben.nome}" />
	</p:selectOneMenu></td>
	<td><p:commandButton id="busca"  action="#{beneficiario.buscarPorId}" ajax="true" update="dadosB" value="Buscar"/></td>
					</tr>
					</table>
					</h:form></p:panel>
					<h:form id="dadosB">
					<p:panel id="dados">
					<table align="center">
					<tr>
						<td width="160"><p:outputLabel for="titular" value="Titular" /></td>
						<td colspan="3" width="480"><p:inputText id="titular" required="" maxlength="100" size="60"
						value="#{beneficiario.cliente.nome}" colspan="2" /></td>
					</tr>
					<tr>
						<td width="160"><p:outputLabel for="nome" value="Nome" /></td>
						
						<td colspan="3" width="480"><p:inputText id="nome" title="Digite o Nome"
							    required="" maxlength="100" size="60" value="#{beneficiario.beneficiarioNovo.nome}" colspan="2"
								style="text-transform:uppercase" rendered="true" /></td>
					</tr>
					<tr>
						<td><p:outputLabel for="email" value="Email" /></td>
						
						<td colspan="3"><p:inputText id="email"	title="Digite o Email" required="" maxlength="100" size="40"
								value="#{beneficiario.beneficiarioNovo.email}" colspan="2" /></td>
					</tr>
					<tr>
						<td><p:outputLabel for="nascimento" value="Data de Nascimento" /></td>
						
						<td><p:inputMask id="nascimento" value="#{beneficiario.beneficiarioNovo.dataNascimento}"
								maxlenght="10" size="13" mask="99/99/9999" pattern="dd/MM/yyyy" /></td>
								
						<td><p:outputLabel for="parentesco" value="Parentesco" /></td>
						
						<td><p:selectOneMenu id="parentesco"
								value="#{beneficiario.beneficiarioNovo.classificacao}">
								<f:selectItem itemLabel="Selecione" itemValue="#{null}" />
								<f:selectItem itemLabel="Titular" itemValue="Titular"/>
								<f:selectItem itemLabel="Conjuge" itemValue="Conjuge" />
								<f:selectItem itemLabel="Filho(a)" itemValue="Filho(a)" />
								<f:selectItem itemLabel="Enteado(a)" itemValue="Enteado(a)" />
								<f:selectItem itemLabel="Primo(a)" itemValue="Primo(a)" />
								<f:selectItem itemLabel="Sobrinho(a)" itemValue="Sobrinho(a)" />
								<f:selectItem itemLabel="Tio(a)" itemValue="Tio(a)" />
								<f:selectItem itemLabel="Avô(a)" itemValue="Avô(a)" />
								<f:selectItem itemLabel="Outros" itemValue="Outros" />
							</p:selectOneMenu></td>
					</tr>
					<tr>
						<td><p:outputLabel for="estado_civil" value="Estado Civil" /></td>
						<td><p:selectOneMenu id="estado_civil"
								value="#{beneficiario.beneficiarioNovo.estadoCivil}">
								<f:selectItem itemLabel="Selecione" itemValue="#{null}" />
								<f:selectItem itemLabel="Casado(a)" itemValue="Casado(a)" />
								<f:selectItem itemLabel="Solteiro(a)" itemValue="Solteiro(a)" />
								<f:selectItem itemLabel="Separado(a)" itemValue="Separado(a)" />
								<f:selectItem itemLabel="Divorciado(a)" itemValue="Divorciado(a)" />
								<f:selectItem itemLabel="Viuvo(a)" itemValue="Viuvo(a)" />
								<f:selectItem itemLabel="Outros" itemValue="Outros" />
							</p:selectOneMenu></td>
							
						<td><p:outputLabel for="sexo" value="Sexo" /></td>
						
						<td><p:selectOneRadio id="sexo"	value="#{beneficiario.beneficiarioNovo.sexo}">
								<f:selectItem itemLabel="Masculino" itemValue="Masculino" />
								<f:selectItem itemLabel="Feminino" itemValue="Feminino" />
							</p:selectOneRadio></td>
					</tr>
					<tr>
						<td><p:outputLabel for="religiao" value="Religião" /></td>
						<td><p:inputText id="religiao" title="Digite a religião" maxlength="100" size="20"
								value="#{beneficiario.beneficiarioNovo.religiao}" /></td>
								
						<td><p:outputLabel for="profissao" value="Profissão" /></td>
						
						<td><p:inputText id="profissao" title="Digite a Profissão"	maxlength="100" size="20"
								value="#{beneficiario.beneficiarioNovo.profissao}" /></td>
					</tr>
					<tr>
						<td><p:outputLabel for="profissional" value="Cadastrado por" /></td>
						
						<td colspan="3"><p:selectOneMenu id="profissional"	value="#{beneficiario.beneficiarioNovo.idFuncionario}">
								<f:selectItem itemLabel="Selecione" itemValue="null" />
								<f:selectItems value="#{funcionario.listar()}" var="fun"
									itemValue="#{fun.idFuncionario}" itemLabel="#{fun.login}" />
							</p:selectOneMenu></td>
					</tr>
					<tr>
						<td><p:outputLabel for="observacao" value="Observação" /></td>
						
						<td colspan="3"><p:inputTextarea id="observacao" value="#{beneficiario.beneficiarioNovo.observacao}"
								title="Digite observações a serem feitas" maxlength="200"	counterTemplate="{0} caracteres restantes" size="100"
								autoResize="true" rows="4" cols="62" /></td>
					</tr>
				</table></p:panel><p:panel>
				<table align="center">
					<tr>
						<td align="center">
						<p:commandButton id="Alterar" value="Alterar" title="Alterar Beneficiário" action="#{beneficiario.atualizar}" icon="ui-icon-disk" ajax="false"/></td>
						<td><p:growl id="message" showDetail="true" life="8000"/> 
						
						<p:commandButton value="Excluir" actionListener="#{confirmacao.erro}" update="message"  icon="ui-icon-trash">
						
								<p:confirm header="Confirmação" message="Deseja excluir este beneficiário?" icon="ui-icon-alert" />
						</p:commandButton>
							<p:confirmDialog global="true" showEffect="fade" hideEffect="explode">
							
								<p:commandButton value="Sim" type="button" styleClass="ui-confirmdialog-yes" action="#{beneficiario.remover()}" />
								
								<p:commandButton value="Não" type="button" styleClass="ui-confirmdialog-no" />
							</p:confirmDialog></td>
							
						<td align="center"><p:commandButton id="cancelar" value="Cancelar" title="Cancelar" action="/index.xhtml" 
								icon="ui-icon-arrowreturnthick-1-w"/></td>
					</tr>

				</table></p:panel></h:form>
				</p:panel>
			</center>
		</h:body>
	</ui:define>
</ui:composition>
</html>